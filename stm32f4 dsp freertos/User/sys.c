#include "bsp.h"

#include "OLED.h"
#include "FreeRTOS.h"
#include "queue.h"
#include "JY62.h"
#include "PID.h"
#include "Driver.h"
#include "Software_iic.h"
#include <math.h>
#include <stdbool.h>

extern int32_t temp;

void Forward()
{
    Advance(2);
    Advance(3);
    Advance(4);
    Advance(5);
}
void Reverse()
{
    Back(2);
    Back(3);
    Back(4);
    Back(5);
}
void Turn_Right_Founction()
{
    Back(2);
    Advance(3);
    Advance(4);
    Back(5);
}
void Turn_Left_Founction()
{
    Advance(2);
    Back(3);
    Back(4);
    Advance(5);
}
void Walking_Right()
{
    Advance(2);
    Back(3);
    Advance(4);
    Back(5);
}
void Walking_Left()
{
    Back(2);
    Advance(3);
    Back(4);
    Advance(5);
}

float calculate_adjust_angle(int32_t last_X, int32_t now_X, int32_t distance_Y)
{
    float adjust_angle = 0;
    float distance_X = now_X - last_X;
    if (distance_X == 0)
    {
        adjust_angle = 0;
    }
    else
    {
        adjust_angle = atan(distance_X / distance_Y) * 180 / 3.1415926;
    }
    return adjust_angle;
}

//阿拉伯数字1，size:32*32
const uint8_t bigone[4][32] = {
	0x00,0x00,0x00,0x00,0x00,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0xF0,0xF0,0xF0,
	0xF8,0xF8,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0xFF,
	0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0xFF,
	0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x0C,0x0F,0x0F,0x0F,
	0x0F,0x0F,0x0C,0x0C,0x08,0x08,0x08,0x08,0x08,0x08,0x00,0x00,0x00,0x00,0x00,0x00,/*"1",0*/
};

//阿拉伯数字2，size:32*32
const uint8_t bigtwo[4][32] = {
	0x00,0x00,0x00,0x80,0xC0,0xE0,0xE0,0x30,0x10,0x10,0x18,0x08,0x08,0x08,0x08,0x08,
	0x08,0x08,0x08,0x18,0x18,0x30,0x70,0xF0,0xF0,0xE0,0xC0,0x80,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x03,0x07,0x07,0x07,0x07,0x06,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	0x00,0x00,0x80,0x80,0xC0,0xE0,0xF8,0x7F,0x3F,0x3F,0x1F,0x07,0x00,0x00,0x00,0x00,
	0x00,0x00,0x00,0x00,0x00,0x80,0x80,0xC0,0x60,0x60,0x30,0x30,0x18,0x0C,0x0C,0x06,
	0x06,0x03,0x03,0x01,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0xC0,0xC0,0x00,0x00,0x00,
	0x00,0x00,0x0C,0x0E,0x0F,0x0D,0x0D,0x0C,0x0C,0x0C,0x0C,0x0C,0x0C,0x0C,0x0C,0x0C,
	0x0C,0x0C,0x0C,0x0C,0x0C,0x0C,0x0C,0x0C,0x0E,0x0E,0x0F,0x07,0x00,0x00,0x00,0x00,/*"2",0*/
};

